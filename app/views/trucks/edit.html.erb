<%= stylesheet_link_tag 'trucks', media: 'all', 'data-turbo-track': 'reload' %>

<div class="page-content">
  <h1 class="page-heading">Update Truck Details ðŸšš</h1>
  <div class="form-wrapper">
    <%= simple_form_for(@truck) do |f| %>
      <div class="form-group">
        <%= f.input :title, label: "Truck Title", input_html: { class: "form-control" } %>
      </div>
      <div class="form-group">
        <%= f.input :price, label: "Price per Day ($)", input_html: { class: "form-control" } %>
      </div>
      <div class="form-group">
        <%= f.input :description, label: "Description", input_html: { class: "form-control" } %>
      </div>
      <div class="form-group">
        <%= f.input :postcode, label: "Location Postcode", input_html: { class: "form-control" } %>
      </div>

      <!-- Display current photo if attached, else show default -->
      <div class="form-group">
        <label class="form-label">Current Photo</label>
        <% if @truck.photo.attached? %>
          <%= image_tag @truck.photo.variant(resize_to_fill: [100, 100]).processed, class: "current-photo" %>
        <% else %>
          <%= image_tag "default_truck_logo.png", class: "current-photo", alt: "Default Truck Logo" %>
        <% end %>
      </div>

      <!-- File field to upload a new photo -->
      <div class="form-group">
        <%= f.label :photo, "Change Truck Photo (Optional)", class: "form-label" %>
        <%= f.file_field :photo, class: "form-control" %>
      </div>

      <div class="form-actions">
        <%= f.submit "Update Truck", class: "btn btn-create" %>
      </div>
    <% end %>
  </div>
</div>
